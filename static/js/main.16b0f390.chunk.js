(this["webpackJsonpwallester-test-app"]=this["webpackJsonpwallester-test-app"]||[]).push([[0],{14:function(e,t,a){e.exports={container:"CreateUser_container__1PFQ1",label:"CreateUser_label__2pvEl",datePicker:"CreateUser_datePicker__1G0x-",datePickerError:"CreateUser_datePickerError__Dzoh8",errorMsg:"CreateUser_errorMsg__1Pxp7",selectJob:"CreateUser_selectJob__2Kzxo"}},167:function(e,t,a){"use strict";a.r(t);var r,s=a(4),n=a.n(s),i=a(27),c=a.n(i),l=(a(86),a(87),a(18)),o=a(19),b=a(32),u=a(25),d=a(24),j=a(8),h=a.n(j),m=a(75),f=a.n(m).a.create({baseURL:"https://reqres.in/api/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),O=a(55),_=a(17),p=a.n(_),x=a(41),v=a.n(x),N=a(2);!function(e){e.Main="main",e.Second="second"}(r||(r={}));var g=function(e){var t=Object(N.jsx)("button",{className:v.a.mainButton,children:e.title});switch(e.type){case r.Main:t=Object(N.jsx)("button",{onClick:e.action,className:v.a.mainButton,children:e.title});break;case r.Second:t=Object(N.jsx)("button",{onClick:e.action,className:v.a.secondButton,children:e.title})}return Object(N.jsx)(N.Fragment,{children:t})};function E(e){var t=Object(s.useState)(),a=Object(O.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)(),c=Object(O.a)(i,2),l=c[0],o=c[1];Object(s.useEffect)((function(){b(e.tableData)}),[e.tableData]);var b=function(t){if(t){for(var a=t.map((function(e,t){return e.title?Object(N.jsx)("tr",{className:p.a.table_title,children:e.title},t):Object(N.jsx)("tr",{},t)})),r=[],s=function(e){for(var a=[],s=function(r){"action"==t[r].type?a.push(Object(N.jsx)("td",{className:p.a.table_tableData,children:Object(N.jsx)(g,{action:function(){return t[r].action(e)},type:"second",title:"View"})})):"text"==t[r].type&&a.push(Object(N.jsx)("td",{className:p.a.table_tableData,children:t[r].data[e]}))},n=0;n<t.length;n++)s(n);r.push(Object(N.jsx)("tr",{className:p.a.table_tableRow,children:a},e))},i=0;i<e.rows;i++)s(i);n(a),o(r)}};return Object(N.jsx)("div",{className:p.a.container,children:Object(N.jsxs)("table",{className:p.a.table,children:[Object(N.jsx)("thead",{children:r}),Object(N.jsx)("tbody",{children:l})]})})}var D,U=a(76),S=a.n(U),y=a(42),C=a.n(y),I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={userInfo:r.props.data},r}return Object(o.a)(a,[{key:"render",value:function(){return Object(N.jsx)("div",{className:C.a.container,children:Object(N.jsxs)("div",{className:C.a.profile,children:[Object(N.jsx)("img",{src:this.state.userInfo.avatar}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{className:C.a.profile_header,children:"Info"}),Object(N.jsxs)("p",{children:["First name: ",this.state.userInfo.first_name]}),Object(N.jsxs)("p",{children:["Last name: ",this.state.userInfo.last_name]}),Object(N.jsxs)("p",{children:["Email: ",this.state.userInfo.email]})]})]})})}}]),a}(n.a.Component),w=a(33),k=a(9),B=a(14),P=a.n(B),R=a(30),M=a.n(R),F=function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("input",{type:e.type,onChange:e.onChange,value:e.value,className:"".concat(e.errorMsg?"".concat(M.a.errortextInput," ").concat(M.a.textInput):M.a.textInput)}),Object(N.jsx)("span",{className:M.a.errorMsg,children:e.errorMsg})]})},H=a(78),T=a.n(H),A=(a(107),a(77)),L=a.n(A),J={firstNameErr:"",lastNameErr:"",emailErr:"",dateOfBirthErr:""},q={firstName:"",lastName:"",email:"",job:"",dateOfBirth:new Date};!function(e){e.NoJob="No job",e.SoftwareEngineer="Software Engineer",e.Painter="Painter",e.BusDriver="Bus Driver"}(D||(D={}));var z,Z=[D.NoJob,D.SoftwareEngineer,D.Painter,D.BusDriver],Q=L.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:5e3}),G=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={formData:q,validationErrors:J,createdUserInfo:null},r}return Object(o.a)(a,[{key:"validateForm",value:function(){var e=this,t=0,a=/^[a-zA-Z\s]+$/,r=function(a,r){t++,e.setState((function(e){return{validationErrors:Object(k.a)(Object(k.a)({},e.validationErrors),{},Object(w.a)({},a,r))}}))};this.setState({validationErrors:J});return""==this.state.formData.firstName?r("firstNameErr","First Name is required"):a.test(this.state.formData.firstName)||r("firstNameErr","First Name must contain only letters (A-Z) without any numbers"),""==this.state.formData.lastName?r("lastNameErr","Last Name is required"):a.test(this.state.formData.lastName)||r("lastNameErr","Last Name must contain only letters (A-Z) without any numbers"),""==this.state.formData.email?r("emailErr","Email is required"):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.state.formData.email)||r("emailErr","Invalid email"),function(e){var t=Date.now()-e.getTime(),a=new Date(t).getUTCFullYear();return Math.abs(a-1970)}(this.state.formData.dateOfBirth)<18&&r("dateOfBirthErr","User must be over 18 years old"),!(t>0)}},{key:"onFormSubmit",value:function(){var e=this;this.validateForm()&&f({method:"POST",url:"api/users",data:this.state.formData}).then((function(t){Q.fire({title:"User has been added",icon:"success"}),e.setState({formData:q,createdUserInfo:t.data})})).catch((function(){Q.fire({title:"Something went wrong",icon:"success"})}))}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:P.a.container,children:[Object(N.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(N.jsx)(V,{errorMsg:this.state.validationErrors.firstNameErr,onChange:function(t){return e.setState((function(e){return{formData:Object(k.a)(Object(k.a)({},e.formData),{},{firstName:t.target.value})}}))},value:this.state.formData.firstName,label:"First Name"}),Object(N.jsx)(V,{errorMsg:this.state.validationErrors.lastNameErr,onChange:function(t){return e.setState((function(e){return{formData:Object(k.a)(Object(k.a)({},e.formData),{},{lastName:t.target.value})}}))},value:this.state.formData.lastName,label:"Last Name"}),Object(N.jsx)(V,{errorMsg:this.state.validationErrors.emailErr,onChange:function(t){return e.setState((function(e){return{formData:Object(k.a)(Object(k.a)({},e.formData),{},{email:t.target.value})}}))},value:this.state.formData.email,label:"Email",type:"email"}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{className:P.a.label,children:"Job"}),Object(N.jsx)("select",{onChange:function(t){return e.setState((function(e){return{formData:Object(k.a)(Object(k.a)({},e.formData),{},{job:t.target.value})}}))},defaultValue:Z[0],className:P.a.selectJob,children:Z.map((function(e,t){return Object(N.jsx)("option",{value:e,children:e},t)}))})]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{className:P.a.label,children:"Date of Birth"}),Object(N.jsx)(T.a,{className:"".concat(this.state.validationErrors.dateOfBirthErr?"".concat(P.a.datePicker," ").concat(P.a.datePickerError):P.a.datePicker),selected:this.state.formData.dateOfBirth,onChange:function(t){return e.setState((function(e){return{formData:Object(k.a)(Object(k.a)({},e.formData),{},{dateOfBirth:t})}}))}}),Object(N.jsx)("span",{className:P.a.errorMsg,children:this.state.validationErrors.dateOfBirthErr})]}),Object(N.jsx)("div",{children:Object(N.jsx)(g,{action:this.onFormSubmit.bind(this),type:"main",title:"Add"})})]}),this.state.createdUserInfo?Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"Created User Info:"}),Object(N.jsxs)("p",{children:["First Name: ",this.state.createdUserInfo.firstName]}),Object(N.jsxs)("p",{children:["Last Name: ",this.state.createdUserInfo.lastName]}),Object(N.jsxs)("p",{children:["Email: ",this.state.createdUserInfo.email]}),Object(N.jsxs)("p",{children:["Date of Birth: ",this.state.createdUserInfo.dateOfBirth.toString().slice(0,10)]}),Object(N.jsxs)("p",{children:["Job: ",this.state.createdUserInfo.job?this.state.createdUserInfo.job:"No job"]}),Object(N.jsxs)("p",{children:["Id: ",this.state.createdUserInfo.id]}),Object(N.jsxs)("p",{children:["Created at: ",this.state.createdUserInfo.createdAt.toString().slice(0,10)]})]}):null]})}}]),a}(n.a.Component),V=function(e){if(e)return Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{className:P.a.label,children:e.label}),Object(N.jsx)(F,{errorMsg:e.errorMsg,type:e.type,onChange:e.onChange,value:e.value})]})},Y=a(56);!function(e){e[e.USERS=0]="USERS",e[e.USER=1]="USER",e[e.CREATE_USER=2]="CREATE_USER"}(z||(z={}));var $=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handlePageClick=function(e){var t=e.selected+1;r.setState({currentPage:t},(function(){r.getData()}))},r.state={totalPages:null,fetchedData:[],currentPage:1,tableData:null,display:z.USERS,selectedUserData:null},r.handlePageClick=r.handlePageClick.bind(Object(b.a)(r)),r}return Object(o.a)(a,[{key:"getData",value:function(){var e=this;f.get("users?page=".concat(this.state.currentPage)).then((function(t){var a=t.data.data,r=[{title:"First Name",data:a.map((function(e){return e.first_name})),type:"text"},{title:"Last Name",data:a.map((function(e){return e.last_name})),type:"text"},{title:"Action",action:function(t){e.setState({display:z.USER,selectedUserData:a[t]})},type:"action"}];e.setState({fetchedData:a,tableData:r,totalPages:t.data.total_pages})}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return this.state.display===z.USERS?Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:" ".concat(h.a.users_tableHeader," ").concat(h.a.tableHeader),children:[Object(N.jsx)("h1",{className:h.a.tableHeader_tableName,children:"Users"}),Object(N.jsx)(g,{action:function(){return e.setState({display:z.CREATE_USER})},type:"main",title:"Add New User"})]}),Object(N.jsx)(E,{tableName:"Users",tableData:this.state.tableData,rows:6}),Object(N.jsx)(S.a,{pageCount:this.state.totalPages,previousLabel:h.a.prev,nextLabel:"next",breakLabel:"...",marginPagesDisplayed:2,pageRangeDisplayed:4,onPageChange:this.handlePageClick,containerClassName:h.a.pagination,activeClassName:h.a.active})]}):this.state.display===z.USER?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:" ".concat(h.a.user_tableHeader," ").concat(h.a.tableHeader),children:[Object(N.jsx)(Y.a,{onClick:function(){return e.setState({display:z.USERS})},style:{cursor:"pointer"},size:"25"}),Object(N.jsxs)("h1",{className:h.a.tableHeader_tableName,children:[this.state.selectedUserData.first_name," ",this.state.selectedUserData.last_name]})]}),Object(N.jsx)(I,{data:this.state.selectedUserData})]}):this.state.display===z.CREATE_USER?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:" ".concat(h.a.createUser_tableHeader," ").concat(h.a.tableHeader),children:[Object(N.jsx)(Y.a,{onClick:function(){return e.setState({display:z.USERS})},style:{cursor:"pointer"},size:"25"}),Object(N.jsx)("h1",{className:h.a.tableHeader_tableName,children:"Create New User"})]}),Object(N.jsx)(G,{})]}):void 0}}]),a}(n.a.Component),K=a(81),X=a.n(K),W=function(e){return Object(N.jsx)("div",{className:X.a.container,children:e.children})};var ee=function(){return Object(N.jsx)(W,{children:Object(N.jsx)($,{})})};c.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(ee,{})}),document.getElementById("root"))},17:function(e,t,a){e.exports={container:"Table_container__3MbcM",table:"Table_table__2OuB7",table_title:"Table_table_title__2xfvT",table_tableData:"Table_table_tableData__3-aqF",table_tableRow:"Table_table_tableRow__3bY6G"}},30:function(e,t,a){e.exports={textInput:"Input_textInput__3pTay",errortextInput:"Input_errortextInput__3EdZE",errorMsg:"Input_errorMsg__1w6QX"}},41:function(e,t,a){e.exports={mainButton:"Button_mainButton__35Np-",secondButton:"Button_secondButton__cZSRQ"}},42:function(e,t,a){e.exports={container:"User_container__2v992",profile:"User_profile__F9rkO",profile_header:"User_profile_header__wJQF1"}},8:function(e,t,a){e.exports={pagination:"Users_pagination__3qATv",active:"Users_active__2Q8UN",tableHeader_tableName:"Users_tableHeader_tableName__3Os9O",tableHeader:"Users_tableHeader__3-z2T",users_tableHeader:"Users_users_tableHeader__1B6f0",user_tableHeader:"Users_user_tableHeader__lwSvq"}},81:function(e,t,a){e.exports={container:"Layout_container__1qghn"}},86:function(e,t,a){},87:function(e,t,a){}},[[167,1,2]]]);
//# sourceMappingURL=main.16b0f390.chunk.js.map